- [腾讯CDG金融科技后台开发一面凉经](#腾讯cdg金融科技后台开发一面凉经)
  - [数组和链表的区别，使用场景](#数组和链表的区别使用场景)
  - [树和图的区别](#树和图的区别)
  - [深度优先和广度优先的区别，为什么要用dfs和bfs？](#深度优先和广度优先的区别为什么要用dfs和bfs)
  - [三次握手，发送的内容都有什么？](#三次握手发送的内容都有什么)
  - [第三次握手丢了，客户端直接发送数据了，服务端会怎样？](#第三次握手丢了客户端直接发送数据了服务端会怎样)
  - [第三次握手的目的是什么？](#第三次握手的目的是什么)
  - [序列号怎么生成的，从0开始吗？](#序列号怎么生成的从0开始吗)
  - [TCP数据包里包含哪些，有ACK字段吗，这个ACK和三次握手的有什么不一样？](#tcp数据包里包含哪些有ack字段吗这个ack和三次握手的有什么不一样)
  - [HTTP和HTTPs的区别](#http和https的区别)
  - [https四次挥手过程，每次挥手发生什么？](#https四次挥手过程每次挥手发生什么)
  - [发送的数字证书为什么可靠？，客户端如何判断？](#发送的数字证书为什么可靠客户端如何判断)
  - [linux常见命令](#linux常见命令)
  - [linux文件系统](#linux文件系统)
  - [vim打开一个文件的原理](#vim打开一个文件的原理)
  - [数据存储引擎有哪些？](#数据存储引擎有哪些)
  - [innodb存储引擎和mysql的区别](#innodb存储引擎和mysql的区别)
  - [索引怎么实现？](#索引怎么实现)
  - [为什么使用b+树？，不是二叉树？](#为什么使用b树不是二叉树)
  - [b+树的时间复杂度为什么是O(logN)？](#b树的时间复杂度为什么是ologn)
  - [联合索引 (a,b,c) (b,a,c) (c,b,a) 有什么区别](#联合索引-abc-bac-cba-有什么区别)
  - [联合索引把什么样的字段放在第一个（用户登录状态和uid哪个放第一个）](#联合索引把什么样的字段放在第一个用户登录状态和uid哪个放第一个)
  - [可重复读有没有幻读现象，什么情况下出现幻读？](#可重复读有没有幻读现象什么情况下出现幻读)
  - [redis持久化方式，快照怎么实现？](#redis持久化方式快照怎么实现)
  - [快照怎么保证和上一个快照不冲突（提示有个静态变量，？）](#快照怎么保证和上一个快照不冲突提示有个静态变量)

# 腾讯CDG金融科技后台开发一面凉经
按简历上的技术栈一个一个问，不问项目(问项目有没有上线)，没有手撕 

自我介绍

30分钟秒挂
## 数组和链表的区别，使用场景

数组内存空间连续，支持随机查找，插入效率低；
链表不连续，插入效率高，不支持随即查询；
**扩展方面：静态数组不支持扩容，动态数组达到容量后会扩容，链表不受限制，天然无限扩展，但是容易导致内存碎片；**  
**数组符合缓存局部性原理，链表不符合；**

## 树和图的区别
树没有环，结构上有父子节点的概念；
图分为有向图和无向图，可成环，图可以看作是多个子树拼在一起；
树是层次结构，而图存在复杂的拓扑结构
存储方式：树可以使用数组或链表存储，图可以使用邻接矩阵（稠密）或邻接表存储（稀疏）

## 深度优先和广度优先的区别，为什么要用dfs和bfs？
深度优先会立即判断这次循环是否满足条件，用于判断是否可达
广度优先适合于搜索最短路径，

## 三次握手，发送的内容都有什么？
syn 
ack syn seq ？
ack seq
1. 客户端发送SYN包，包含初始序列号（ISN）和SYN标志位
2. 服务端收到SYN包后，回复一个SYN-ACK包，包含服务端的初始序列号（ISN）和确认号（ACK），同时设置SYN和ACK标志位
3. 客户端收到SYN-ACK包后，发送一个ACK包，确认服务端的SYN包，包含确认号（ACK）和自己的序列号（seq）


## 第三次握手丢了，客户端直接发送数据了，服务端会怎样？
拒绝，因为不是ack请求的数据，*服务端返回RST包，客户端意识到连接建立失败重新三次握手*

## 第三次握手的目的是什么？
证明服务端能向客户端通信

## 序列号怎么生成的，从0开始吗？
随机一个数，防止被模拟tcp请求

## TCP数据包里包含哪些，有ACK字段吗，这个ACK和三次握手的有什么不一样？
这道题不会！

## HTTP和HTTPs的区别
https在应用层和传输层直接还需要经过tls/ssl证书认证

## https四次挥手过程，每次挥手发生什么？
主动关闭方 fin
closing
对方发送完所有数据 发送fin
进入timewait(2MSL)

## 发送的数字证书为什么可靠？，客户端如何判断？
通过完整性校验，向证书发布商认证？

## linux常见命令

## linux文件系统
权限 rw--
inode

## vim打开一个文件的原理
usr/bin 下的vim命令，
权限验证，
系统调用读到内存
渲染到vim编辑界面

## 数据存储引擎有哪些？
innoDB myaism？

## innodb存储引擎和mysql的区别
存储引擎是mysql引擎层的一种，MySQL分为server层和引擎层

## 索引怎么实现？
b+树？？

## 为什么使用b+树？，不是二叉树？
b+树多路搜索树？查询次数稳定，树高小，支持范围查询
二叉树不利于插入和规则查询

## b+树的时间复杂度为什么是O(logN)？
他就是多路的二叉搜索树，

##  联合索引 (a,b,c) (b,a,c) (c,b,a) 有什么区别
最左匹配原则

## 联合索引把什么样的字段放在第一个（用户登录状态和uid哪个放第一个）
看业务类型，

## 可重复读有没有幻读现象，什么情况下出现幻读？
有就是更新了一个没有select到的数据，导致后面都可以看到这个数据

## redis持久化方式，快照怎么实现？
RDB，数据以二进制方式存储；
COW写时复制，子进程触发

## 快照怎么保证和上一个快照不冲突（提示有个静态变量，？）
要保证 Redis RDB 快照不与上一个快照冲突，Redis 采用了以下机制：

1. **使用临时文件 + 原子重命名**：
   - Redis 子进程不会直接写入到最终的 RDB 文件（如 `dump.rdb`），而是先写入到一个临时文件（如 `temp-<pid>.rdb`）
   - 只有当新的临时文件完全写入成功后，才会通过原子的 `rename()` 系统调用替换旧的 RDB 文件
   - 这确保了在任何时刻，系统中都有一个完整可用的 RDB 文件

2. **内部状态标志（静态变量）**：
   - Redis 维护一个内部状态变量（类似于 `rdb_save_in_progress` 标志）
   - 当执行 BGSAVE 时，这个状态变量会被设置为 1，表明有 RDB 保存操作正在进行
   - 这个标志防止同时启动多个 BGSAVE 操作，避免资源竞争和文件冲突
   - 只有当一个 BGSAVE 完全结束后，这个标志才会被重置，允许新的 BGSAVE 开始

3. **COW 机制保证数据一致性**：
   - 使用写时复制（COW）技术，子进程看到的是 fork 时刻的内存快照
   - 主进程继续处理新的请求，修改的内存页会被复制，不影响子进程的数据视图
   - 这确保了生成的快照数据是一个时间点上的一致视图

4. **文件描述符和路径处理**：
   - Redis 会小心管理文件描述符，确保在 RDB 保存过程中不会出现资源泄露
   - 临时文件的命名策略确保即使系统崩溃，也不会与正常的 RDB 文件混淆